!function a(s,r,l){function c(i,e){if(!r[i]){if(!s[i]){var t="function"==typeof require&&require;if(!e&&t)return t(i,!0);if(d)return d(i,!0);var n=new Error("Cannot find module '"+i+"'");throw n.code="MODULE_NOT_FOUND",n}var o=r[i]={exports:{}};s[i][0].call(o.exports,function(e){var t=s[i][1][e];return c(t||e)},o,o.exports,a,s,r,l)}return r[i].exports}for(var d="function"==typeof require&&require,e=0;e<l.length;e++)c(l[e]);return c}({1:[function(e,t,i){"use strict";function n(){this.focusable=["a[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","iframe","object","embed","*[tabindex]","*[contenteditable]","[tabindex]:not([tabindex='-1'])"]}n.prototype.saveFocus=function(e){this.beforeOpenFocus=e},n.prototype.returnFocus=function(){this.beforeOpenFocus&&(this.beforeOpenFocus.focus(),this.beforeOpenFocus=null)},n.prototype.setInitialFocus=function(e){0!==e.length&&setTimeout(function(){e.focus()},1)},n.prototype.getFocusable=function(e){return e.find(this.focusable.join(",")).filter(":visible").filter(function(){return"hidden"!==$(this).css("visibility")&&(void 0===$(this).attr("tabindex")||-1<$(this).attr("tabindex"))})},n.prototype.trapTab=function(e,t){var i,n=this.getFocusable(e),o=n.filter(":focus"),a=n.index(o),s=!1;-1<a&&((i=t.shiftKey?a-1:a+1)>n.length-1?s=0:-1===i&&(s=n.length-1),!1!==s&&(n.get(s).focus(),t.preventDefault()))},t.exports=n},{}],2:[function(e,t,i){"use strict";t.exports=function(e){var t=e.is("script")?e:e.find("script");if(0===t.length)return null;t=$(t.get(0));var i=$.parseJSON(t.html());return t.remove(),i}},{}],3:[function(e,t,i){"use strict";t.exports=function(){for(var e,t=arguments.length,i=0;i<t;i++)if(!("backbone"===(e=arguments[i])?"undefined"!=typeof Backbone:"jquery"===e?"undefined"!=typeof $:"lodash"===e?"undefined"!=typeof lodash:"underscore"!==e||"undefined"!=typeof _))throw new Error("JavaScript dependency failed to load");return!0}},{}],4:[function(e,t,i){"use strict";t.exports=Backbone.Model.extend({initialize:function(e,t){Backbone.Model.prototype.initialize.call(this,e,t),this.params={key:"eea2e11c953d5b589fefb7895778df98d89dd9c7",v:1}},url:function(){return this.compileEndpoint()+"?"+this.compileParams()},compileEndpoint:function(){var e="https://"+("production"===env?"":env+".")+"api.hub.jhu.edu/";return this.endpoint&&(e+=this.endpoint),this.id&&(e=e+"/"+this.id),e},compileParams:function(){return $.param(this.params)}})},{}],5:[function(e,t,i){"use strict";var n={Base:e("./Base"),GalleryImage:e("./GalleryImage")};t.exports=n.Base.extend({endpoint:"galleries",parse:function(e){var t=e._embedded.image_gallery,i=$.map(t,function(e){return new n.GalleryImage(e)});return e.images=new Backbone.Collection(i),e}})},{"./Base":4,"./GalleryImage":6}],6:[function(e,t,i){"use strict";var n={Base:e("./Base")};t.exports=n.Base.extend({defaults:{active:!1}})},{"./Base":4}],7:[function(e,t,i){"use strict";var n={Base:e("./Base"),GalleryImage:e("./GalleryImage")};t.exports=n.Base.extend({endpoint:"files",parse:function(e){var t=new n.GalleryImage(e);return{images:new Backbone.Collection([t])}}})},{"./Base":4,"./GalleryImage":6}],8:[function(e,t,i){"use strict";var n=e("accessible-modal"),o={modalBackground:e("../../templates/modal/modal-background.html")};t.exports=Backbone.View.extend({className:"modal pop-modal",modalClass:"",appendTo:"body",prependTo:null,type:"pop",backgroundTemplate:o.modalBackground,initialFocus:"button.close",events:{"click .close":"close"},pageElementsToHide:$(".main-nav, .hub-alert, .browse-happy, .main-content-container, .global-footer, .skip-to-main"),initialize:function(e){this.id=this.model.get("id"),this.accessibleModal=new n,e.focusBeforeOpen&&this.accessibleModal.saveFocus(e.focusBeforeOpen),this.renderBackground()},activateTrapTab:function(){$("body").on("keydown."+this.id,this.evaluateKeyDown.bind(this))},deactivateTrapTab:function(){$("body").off("keydown."+this.id)},evaluateKeyDown:function(e){var t=e.charCode?e.charCode:e.keyCode;9===t?this.accessibleModal.trapTab(this.$el,e):27===t&&this.close(e)},renderBackground:function(){var e=this.model?this.model.toJSON():{};return this.backgroundTemplate&&this.$el.append(this.backgroundTemplate(e)),this.$el.attr("aria-hidden","true"),this.center=$("<div />").addClass("center force"),this.modalContent=$("<div />").addClass("modal-content column"),this.center.append(this.modalContent),this.$el.append(this.center),this.appendTo?this.$el.appendTo(this.appendTo):this.prependTo&&this.$el.prependTo(this.prependTo),this.modalClass&&this.$el.addClass(this.modalClass),this.renderModalContent(),this},renderModalContent:function(){},close:function(e){e.preventDefault(),e.stopPropagation(),this.pageElementsToHide.removeAttr("aria-hidden"),this.accessibleModal.returnFocus(),$(document.body).removeClass(this.type+"-modal-open"),this.modalClass&&$("body").removeClass(this.modalClass+"-open"),this.deactivateTrapTab(),this.$el.attr("aria-hidden","true"),this.remove(),this.stopListening(),this.undelegateEvents()},open:function(){this.show()},show:function(){this.activateTrapTab(),this.pageElementsToHide.attr("aria-hidden","true"),this.append?this.$el.appendTo(this.appendTo):this.prepend&&this.$el.prependTo(this.prependTo),this.$el.addClass("modal-open").removeAttr("aria-hidden").attr("role","dialog").attr("aria-labelledby","aria-label-"+this.model.get("id")).attr("aria-desribedby","aria-description-"+this.model.get("id")).attr("tabindex","-1").focus(),this.accessibleModal.setInitialFocus(this.$el.find(this.initialFocus)),$(document.body).addClass(this.type+"-modal-open"),this.modalClass&&$("body").addClass(this.modalClass+"-open")}})},{"../../templates/modal/modal-background.html":63,"accessible-modal":1}],9:[function(e,t,i){"use strict";var n={Modal:e("./Modal")};t.exports=n.Modal.extend({shown:!1,isOpen:!1,renderBackground:function(){this.$el.css("display","none"),n.Modal.prototype.renderBackground.call(this)},close:function(){var e=this;this.deactivateTrapTab(),this.pageElementsToHide.removeAttr("aria-hidden"),$(document.body).removeClass(this.type+"-modal-open"),this.modalClass&&$("body").removeClass(this.modalClass+"-open"),this.$el.removeClass("modal-open"),this.accessibleModal.returnFocus(),this.$el.attr("aria-hidden","true"),setTimeout(function(){return e.$el.css("display","none")},800),this.isOpen=!1},open:function(){this.show()},show:function(){var e=this,t=$(":focus");t&&this.accessibleModal.saveFocus(t),this.shown?(this.accessibleModal.saveFocus($(":focus")),this.activateTrapTab(),this.pageElementsToHide.attr("aria-hidden","true"),$(document.body).addClass(this.type+"-modal-open"),this.modalClass&&$("body").addClass(this.modalClass+"-open"),this.$el.css("display","block"),setTimeout(function(){e.$el.addClass("modal-open").removeAttr("aria-hidden"),e.$el.attr("tabindex","-1").focus(),e.accessibleModal.setInitialFocus(e.$el.find(e.initialFocus))},50)):(this.$el.css("display","block"),setTimeout(function(){n.Modal.prototype.show.call(e),e.shown=!0},50)),this.isOpen=!0},toggle:function(e){this.isOpen?this.close():this.show(e)}})},{"./Modal":8}],10:[function(e,t,i){"use strict";var n={PersistentModal:e("./PersistentModal")};t.exports=n.PersistentModal.extend({className:"modal slide-modal",type:"slide"})},{"./PersistentModal":9}],11:[function(e,t,i){"use strict";t.exports=Backbone.View.extend({render:function(){var e=this;window.renderCaptcha=function(){this.recaptchaid=grecaptcha.render(this.$el.get(0),{sitekey:"6LdhWhIUAAAAAALM11ocbjubkpD6LV6dJ2TVpRMo"})}.bind(this);$.getScript("https://www.google.com/recaptcha/api.js?onload=renderCaptcha&render=explicit",function(){return e.trigger("recaptcha:loaded")})},getResponse:function(){return grecaptcha.getResponse(this.recaptchaid)},reset:function(){grecaptcha.reset(this.recaptchaid)}})},{}],12:[function(e,t,i){"use strict";var n=e("../../../lib/conversion"),o={CommentsSection:e("../social/CommentsSection"),Gallery:e("../gallery/Gallery"),ObjectPage:e("../pages/ObjectPage")};t.exports=o.ObjectPage.extend({events:{"click .media-inquiries-container button":"togglePressInquiries"},togglePressInquiries:function(){var e=this.$el.find(".media-inquiries-container"),t=e.find("button");e.toggleClass("closed open"),t.find("i").toggleClass("fa-angle-down fa-angle-up"),t.hasClass("gtm-media-inquiries")&&t.removeClass("gtm-media-inquiries")},createGalleries:function(){var n=this,e=this.$el.find(".hero .gallery, .body-copy .gallery");$.each(e,function(e,t){var i=new o.Gallery({el:$(t),gallerySize:"large"});n.views.push(i),n.listenTo(i,"loaded",n.incrementElementsLoaded),i.render()})},createExpandableImages:function(){var e=this.$el.find(".body-copy .image.enlarge");$.each(e,function(e,t){new o.Gallery({el:$(t),gallerySize:"large",type:"single"}).render()})},render:function(){return n.create(this.model,100),o.ObjectPage.prototype.render.call(this),this.createGalleries(),this.createExpandableImages(),this.checkLoadedElements(),new o.CommentsSection({model:this.model}),this}})},{"../../../lib/conversion":51,"../gallery/Gallery":23,"../pages/ObjectPage":27,"../social/CommentsSection":35}],13:[function(e,t,i){"use strict";var n={Navigation:e("./Navigation"),Set:e("./Set")};t.exports=Backbone.View.extend({className:"carousel",setView:null,navigationView:null,initialize:function(e){this.itemToActivate=e.activate,this.eventCategory=e.eventCategory,this.eventLabel=e.eventLabel},render:function(){this.createNavigation();var e=new this.setView({collection:this.collection});return this.$el.append(e.render().el),this.activate(this.itemToActivate),this},createNavigation:function(){this.previous=new n.Navigation({direction:"previous"}),this.$el.append(this.previous.render().el),this.listenTo(this.previous,"carousel:navigate",this.previousItem),this.next=new n.Navigation({direction:"next"}),this.$el.append(this.next.render().el),this.listenTo(this.next,"carousel:navigate",this.nextItem)},activate:function(e){void 0!==this.active&&this.collection.at(this.active).set("active",!1);var t=this.collection.at(e);t.set("active",!0),this.active=e,this.syncNav()},syncNav:function(){0===this.active&&1===this.collection.length?(this.previous.deactivate(),this.next.deactivate()):0===this.active?(this.previous.deactivate(),this.next.activate()):this.active===this.collection.length-1?(this.previous.activate(),this.next.deactivate()):(this.previous.activate(),this.next.activate())},nextItem:function(){var e=this.active+1;this.activate(e)},previousItem:function(){var e=this.active-1;this.activate(e)}})},{"./Navigation":15,"./Set":16}],14:[function(e,t,i){"use strict";var n={loading:e("../../../templates/loading.html")};t.exports=Backbone.View.extend({itemTemplate:null,template:n.loading,initialize:function(){this.model.on("change:active",this.changeState,this)},fetchData:function(){var n=this;this.model.fetch().done(this.renderData.bind(this)).fail(function(e,t,i){0!==e.status&&403!==e.status&&logger.log("Failed to fetch item in app/views/carousel/Item",{level:"warning",data:{model:n.model.toJSON(),jqXHR:e,textStatus:t,errorThrown:i}})})},changeState:function(){this.model.get("active")?(this.$el.addClass("active"),this.$el.removeAttr("aria-hidden")):(this.$el.removeClass("active"),this.$el.attr("aria-hidden",!0))},render:function(){return this.$el.attr("aria-hidden",!0),this.$el.append(this.template()),this.loadingIcon=this.$el.find(".loading"),this.fetchData(),this},renderData:function(){return this.loadingIcon.remove(),this.$el.append(this.itemTemplate({item:this.model.toJSON()})),this}})},{"../../../templates/loading.html":62}],15:[function(e,t,i){"use strict";var n={next:e("../../../templates/next.html"),previous:e("../../../templates/previous.html")};t.exports=Backbone.View.extend({tagName:"button",className:"carousel-nav",events:{click:"navigate"},active:!0,initialize:function(e){this.direction=e.direction,this.template=n[this.direction]},render:function(){return this.$el.addClass(this.direction),this.$el.append(this.template()),this},navigate:function(e){e.preventDefault(),this.$el.hasClass("active")&&this.trigger("carousel:navigate")},activate:function(){this.$el.addClass("active"),this.active=!0},deactivate:function(){this.$el.removeClass("active"),this.active=!1}})},{"../../../templates/next.html":64,"../../../templates/previous.html":65}],16:[function(e,t,i){"use strict";t.exports=Backbone.View.extend({itemView:null,itemTemplate:null,className:"items",append:function(e,t){var i=new this.itemView({i:t,model:e,template:this.itemTemplate});this.$el.append(i.render().el)},render:function(){return this.collection.each(this.append,this),this}})},{}],17:[function(e,t,i){"use strict";var n={Item:e("../Item")},o={image:e("../../../../templates/gallery/image.html")};t.exports=n.Item.extend({className:"image",itemTemplate:o.image,initialize:function(e){Modernizr.csstransforms&&window.addEventListener("winresize:done",this.getCssBottom.bind(this)),n.Item.prototype.initialize.call(this,e)},fetchData:function(){this.renderData()},render:function(){return n.Item.prototype.render.call(this),this.caption=this.$el.find(".caption"),this},getCssBottom:function(){this.$el.css("bottom",this.caption.outerHeight(!0)+"px")}})},{"../../../../templates/gallery/image.html":59,"../Item":14}],18:[function(e,t,i){"use strict";var n={Carousel:e("../Carousel"),ImageSet:e("./ImageSet"),ImageCarouselModal:e("./ImageCarouselModal")};t.exports=n.Carousel.extend({setView:n.ImageSet,navigationView:null,initialize:function(e){n.Carousel.prototype.initialize.call(this,e),this.activateKeyDown()},activateKeyDown:function(){var e=this.model.get("id");$("body").on("keydown."+e,this.evaluateKeyDown.bind(this))},evaluateKeyDown:function(e){var t=e.charCode?e.charCode:e.keyCode;37===t&&this.previous.active?this.previousItem():39===t&&this.next.active&&this.nextItem()}})},{"../Carousel":13,"./ImageCarouselModal":19,"./ImageSet":20}],19:[function(e,t,i){"use strict";var n={ImageCarousel:e("./ImageCarousel"),PersistentModal:e("../../PersistentModal")};t.exports=n.PersistentModal.extend({modalClass:"gallery-modal",initialize:function(e){this.activate=e.activate,n.PersistentModal.prototype.initialize.call(this,e)},renderModalContent:function(){return n.PersistentModal.prototype.renderModalContent.call(this),this.carousel=new n.ImageCarousel({model:this.model,collection:this.collection,activate:this.activate,eventCategory:"Gallery",eventLabel:this.model.get("headline"),focusBeforeOpen:$(":focus")}),this.modalContent.append(this.carousel.render().el),this},activateIndex:function(e){this.carousel.activate(e),this.carousel.activateKeyDown()}})},{"../../PersistentModal":9,"./ImageCarousel":18}],20:[function(e,t,i){"use strict";var n={ImageView:e("./Image"),Set:e("../Set")};t.exports=n.Set.extend({itemView:n.ImageView,className:"images"})},{"../Set":16,"./Image":17}],21:[function(e,t,i){"use strict";var n={open:e("../../../templates/gallery/caption.html")};t.exports=Backbone.View.extend({className:"caption column",template:n.open,events:{"click button":"openGallery"},openGallery:function(e){e.preventDefault(),this.trigger("gallery:open")},render:function(){return this.$el.append(this.template()),this}})},{"../../../templates/gallery/caption.html":57}],22:[function(e,t,i){"use strict";var n={expand:e("../../../templates/gallery/expand.html")};t.exports=Backbone.View.extend({tagName:"button",className:"expand button small",template:n.expand,events:{click:"openGallery"},openGallery:function(e){e.preventDefault(),this.trigger("gallery:open")},render:function(){return this.$el.attr("aria-label","Click to enlarge"),this.$el.append(this.template()),this}})},{"../../../templates/gallery/expand.html":58}],23:[function(e,t,i){"use strict";e("../../../lib/custom-event-polyfill");var n=e("get-script-data"),o={Gallery:e("../../models/Gallery"),SingleImageGallery:e("../../models/SingleImageGallery")},a={Caption:e("./Caption"),Expand:e("./Expand"),ImageCarouselModal:e("../carousel/gallery/ImageCarouselModal"),ThumbnailSet:e("./ThumbnailSet")},s={loading:e("../../../templates/loading.html")};t.exports=Backbone.View.extend({template:s.loading,initialize:function(e){this.gallerySize=void 0!==e.gallerySize?e.gallerySize:"default",this.type=void 0!==e.type?e.type:"multiple","multiple"===this.type?this.model=new o.Gallery({id:this.$el.data("id")}):this.model=new o.SingleImageGallery({id:this.$el.data("id")})},renderGalleryThumbnails:function(){var e=n(this.$el);this.thumbnailSizes=e.thumbnails;var t=new a.ThumbnailSet({collection:this.collection,gallerySize:this.gallerySize,thumbnailSizes:this.thumbnailSizes});this.$el.append(t.render().el),this.listenTo(t,"gallery:open",this.openGallery)},render:function(){var n=this;"multiple"===this.type&&(this.$el.append(this.template()),this.loadingIcon=this.$el.find(".loading")),this.model.fetch().done(this.renderData.bind(this)).fail(function(e,t,i){0!==e.status&&403!==e.status&&logger.log("Failed to fetch Gallery in app/views/galleryGallery",{level:"warning",data:{model:n.model.toJSON(),jqXHR:e,textStatus:t,errorThrown:i}})})},renderData:function(){var e,t,i=this;return this.collection=this.model.get("images"),"multiple"===this.type?(this.renderGalleryThumbnails(),e=new a.Caption,this.$el.append(e.render().el),this.listenTo(e,"gallery:open",this.openGallery),this.loadingIcon.remove(),this.$el.imagesLoaded().done(function(){return i.trigger("loaded")})):(t=new a.Expand,this.$el.find(".image-container").append(t.render().el),this.listenTo(t,"gallery:open",this.openGallery)),this},openGallery:function(e){e="multiple"===this.type&&void 0!==e?e:0,this.modal?this.modal.activateIndex(e):this.modal=new a.ImageCarouselModal({model:this.model,collection:this.collection,activate:e,type:this.type}),this.modal.show();var t=new CustomEvent("winresize:done");window.dispatchEvent(t)}})},{"../../../lib/custom-event-polyfill":52,"../../../templates/loading.html":62,"../../models/Gallery":5,"../../models/SingleImageGallery":7,"../carousel/gallery/ImageCarouselModal":19,"./Caption":21,"./Expand":22,"./ThumbnailSet":26,"get-script-data":2}],24:[function(e,t,i){"use strict";var n={more:e("../../../templates/gallery/more.html")};t.exports=Backbone.View.extend({tagName:"button",className:"column",template:n.more,events:{click:"openGallery"},render:function(){return this.$el.append(this.template()),this},openGallery:function(e){e.preventDefault(),this.trigger("gallery:open",0)}})},{"../../../templates/gallery/more.html":60}],25:[function(e,t,i){"use strict";var n={thumbnail:e("../../../templates/gallery/thumbnail.html")};t.exports=Backbone.View.extend({template:n.thumbnail,className:"column",events:{click:"openGallery"},initialize:function(e){this.i=e.i},render:function(){return this.$el.append(this.template({image:this.model.toJSON()})).addClass("image-"+(this.i+1)),this},openGallery:function(e){e.preventDefault(),this.trigger("gallery:open",this.i)}})},{"../../../templates/gallery/thumbnail.html":61}],26:[function(e,t,i){"use strict";var n={More:e("./More"),Thumbnail:e("./Thumbnail")};t.exports=Backbone.View.extend({numPhotos:6,className:"photos column force",initialize:function(e){this.gallerySize=e.gallerySize,this.thumbnailSizes=e.thumbnailSizes,this.collection.length<this.numPhotos&&(this.numPhotos=this.collection.length),this.collection=new Backbone.Collection(this.collection.slice(0,this.numPhotos))},append:function(e,t){e.set("thumbnailSize","large"===this.gallerySize&&0===t?"landscape":"thumbnail"),e.set("responsiveSizes",this.thumbnailSizes[t]);var i=new n.Thumbnail({i:t,model:e});this.$el.append(i.render().el),this.listenTo(i,"gallery:open",this.pushOpenEvent)},pushOpenEvent:function(e){this.trigger("gallery:open",e)},render:function(){this.$el.addClass("count-"+this.collection.length),this.collection.each(this.append,this);var e=new n.More;return this.$el.append(e.render().el),this.listenTo(e,"gallery:open",this.pushOpenEvent),this}})},{"./More":24,"./Thumbnail":25}],27:[function(e,t,i){"use strict";var o={Sidebar:e("../sidebar/Sidebar")};t.exports=Backbone.View.extend({initialize:function(){var e=this.$el.data();this.model=new Backbone.Model(e),this.views=[],this.viewsLoaded=0,this.render()},incrementElementsLoaded:function(){this.viewsLoaded++,this.checkLoadedElements()},checkLoadedElements:function(){this.views.length===this.viewsLoaded&&$.each(this.sidebars,function(e,t){t.render()})},createSidebar:function(){var i=this,n=this.$el.find(".body-copy");this.sidebars=this.$el.find(".sidebar").map(function(e,t){return new o.Sidebar({el:$(t),model:i.model,companion:n,type:$(t).hasClass("minimal")?"minimal":"full",feature:i.$el.hasClass("feature")})})},render:function(){return this.createSidebar(),this}})},{"../sidebar/Sidebar":32}],28:[function(e,t,i){"use strict";t.exports=Backbone.View.extend({initialize:function(e){this.viewsToLoad=0,this.viewsLoaded=0,this.companion=e.companion,this.parent=e.parent,this.offsetTopElements=e.offsetTopElements,this.offsetBottomElements=e.offsetBottomElements,this.relativeDepth=0,this.state=null,this.stickAtTop=null,this.stickAtBottom=null,this.footerTrigger=null,this.offset=0,this.static=!1},incrementviewsLoaded:function(){this.viewsLoaded++,this.checkLoadedElements()},checkLoadedElements:function(){var e=this;this.viewsToLoad===this.viewsLoaded&&this.$el.imagesLoaded().done(function(){return e.trigger("loaded")})},calculateOffset:function(){this.offset=this.$el.offset().top},onWinResize:function(){this.onScroll({depth:$(window).scrollTop()})},makeStatic:function(){this.static=!0,this.$el.css({width:"auto",top:"auto"}).removeClass("stuck unstuck").addClass("static")},calculateClearance:function(){this.static=!1,this.headerHeight=$(".main-nav").outerHeight(!0);var e=this.$el.outerHeight(!0),i=this.headerHeight;$.each(this.offsetTopElements,function(e,t){i+=t.$el.outerHeight(!0)}),this.setTopOffset(),window.addEventListener("winresize:done",this.setTopOffset.bind(this)),window.addEventListener("ravealert:added",this.setTopOffset.bind(this)),this.clearance=30<$(window).outerHeight()-i-e,this.clearance&&(window.eventEmitter.addListener("winscroll",this.onScroll.bind(this)),window.addEventListener("winresize:done",this.onWinResize.bind(this)),window.addEventListener("ravealert:added",this.onWinResize.bind(this)))},calculateStickiness:function(){this.$el.css("width",this.parent.outerWidth()),this.clearance&&setTimeout(this.setStickiness.bind(this),0)},setStickiness:function(){var e=this.$el.outerHeight(),i=this.headerHeight,n=this.companion.outerHeight(!0)-e,o=this.companion.offset().top+this.companion.outerHeight(!0)-this.headerHeight-e;$.each(this.offsetTopElements,function(e,t){i+=t.$el.outerHeight(!0),o-=t.$el.outerHeight(!0)}),$.each(this.offsetBottomElements,function(e,t){var i;t.clearance&&(i=t.$el.outerHeight(!0),n-=i,o-=i)}),this.stickAtTop=i,this.stickAtBottom=n,this.footerTrigger=o},calculateTopOffset:function(){var i=0;$.each(this.offsetTopElements,function(e,t){i+=t.$el.outerHeight(!0)}),this.companion&&this.relativeDepth&&(i+=this.companion.outerHeight(!0)*this.relativeDepth),this.top=i},setTopOffset:function(){this.static||(this.calculateTopOffset(),this.state="unstuck",this.$el.addClass("unstuck").removeClass("static stuck").css("top",this.top),this.calculateOffset())},onScroll:function(e){var t;this.clearance&&"number"==typeof this.stickAtTop&&"number"==typeof this.stickAtBottom&&"number"==typeof this.footerTrigger&&((t=e.depth)>this.footerTrigger?"stuckfooter"!==this.state&&(this.state="stuckfooter",this.$el.removeClass("stuck static").addClass("unstuck").css("top",this.stickAtBottom)):t>this.offset-this.stickAtTop?"stuck"!==this.state&&(this.state="stuck",this.$el.removeClass("unstuck static").addClass("stuck").css("top",this.stickAtTop)):"unstuck"!==this.state&&(this.state="unstuck",this.$el.removeClass("stuck static").addClass("unstuck").css("top",this.top)))}})},{}],29:[function(e,t,i){"use strict";var n={Fixable:e("./Fixable")};t.exports=n.Fixable.extend({name:"newsletter",initialize:function(e){n.Fixable.prototype.initialize.call(this,e),this.relativeDepth=.4},render:function(){return n.Fixable.prototype.render.call(this),this.trigger("loaded"),this}})},{"./Fixable":28}],30:[function(e,t,i){"use strict";var o={Fixable:e("./Fixable"),Gallery:e("../gallery/Gallery"),SidebarVideo:e("../video/SidebarVideo")},a=e("get-script-data");t.exports=o.Fixable.extend({name:"related",initialize:function(e){o.Fixable.prototype.initialize.call(this,e),this.relativeDepth=.2},createVideo:function(){var e,t,i,n=this.$el.find(".video");0!==n.length&&(this.viewsToLoad++,e=a(n),(t=new Backbone.Model(e)).set("id",t.get("youtube_id")),i=new o.SidebarVideo({el:n,model:t}),this.listenTo(i,"loaded",this.incrementviewsLoaded),i.render())},createGallery:function(){var e,t=this.$el.find(".gallery");0!==t.length&&(this.viewsToLoad++,e=new o.Gallery({el:t}),this.listenTo(e,"loaded",this.incrementviewsLoaded),e.render())},render:function(){return this.createVideo(),this.createGallery(),this.checkLoadedElements(),this}})},{"../gallery/Gallery":23,"../video/SidebarVideo":47,"./Fixable":28,"get-script-data":2}],31:[function(e,t,i){"use strict";e("../../../lib/custom-event-polyfill");var s={CommentButton:e("../social/CommentButton"),EmailButton:e("../social/EmailButton"),Facebook:e("../social/Facebook"),Fixable:e("./Fixable"),LinkedIn:e("../social/LinkedIn"),MoreButton:e("../social/MoreButton"),Pinterest:e("../social/Pinterest"),Reddit:e("../social/Reddit"),Twitter:e("../social/Twitter"),Tumblr:e("../social/Tumblr")};t.exports=s.Fixable.extend({name:"social",initialize:function(e){s.Fixable.prototype.initialize.call(this,e),this.viewsToLoad=0,this.viewsLoaded=0},render:function(){var n=this,e={Twitter:this.$el.find(".twitter"),Facebook:this.$el.find(".facebook"),Pinterest:this.$el.find(".pinterest"),Linkedin:this.$el.find(".linkedin"),Reddit:this.$el.find(".reddit"),Tumblr:this.$el.find(".tumblr")};$.each(e,function(e,t){var i;0<t.length&&s[e]&&(n.viewsToLoad++,i=new s[e]({model:n.model,el:t}),n.listenTo(i,"loaded",n.incrementviewsLoaded),i.render())});var t,i=this.$el.find(".more button"),o=this.$el.find(".more-container");0<i.length&&0<o.length&&(t=new s.MoreButton({model:this.model,el:i,icons:o}),this.listenTo(t,"click",function(){var e=new CustomEvent("winresize:done");window.dispatchEvent(e)}));var a=this.$el.find(".comments");return 0<a.length&&new s.CommentButton({el:a,model:this.model}),0<this.$el.find(".email").length&&new s.EmailButton({el:this.$el.find(".email"),model:this.model}),this}})},{"../../../lib/custom-event-polyfill":52,"../social/CommentButton":34,"../social/EmailButton":37,"../social/Facebook":39,"../social/LinkedIn":40,"../social/MoreButton":41,"../social/Pinterest":42,"../social/Reddit":43,"../social/Tumblr":45,"../social/Twitter":46,"./Fixable":28}],32:[function(e,t,i){"use strict";var n={newsletter:e("./NewsletterPromo"),related:e("./RelatedContent"),social:e("./ShareBar"),toc:e("./TableOfContents")};t.exports=Backbone.View.extend({initialize:function(e){this.companion=e.companion,this.type=e.type,this.feature=e.feature,this.views=[],this.viewsLoaded=0,this.steadyHeight=0},createView:function(e){var t=(e=$(e)).data("view");return!(!t||!n[t])&&(this.views.push(new n[t]({el:e,model:this.model,companion:this.companion,parent:this.$el})),!0)},incrementElementsLoaded:function(){this.viewsLoaded++,this.views.length===this.viewsLoaded&&(setTimeout(this.initSectionStickiness.bind(this),0),window.addEventListener("winresize:done",this.initSectionStickiness.bind(this)),window.addEventListener("ravealert:added",this.initSectionStickiness.bind(this)),setTimeout(this.checkForCompanionHeightChanges.bind(this),300))},checkForCompanionHeightChanges:function(){var e=this.companion.outerHeight(!0);if(e!==this.companionHeight)this.companionHeight=e,this.steadyHeight=0,this.initSectionStickiness();else if(this.steadyHeight=this.steadyHeight+.3,10<this.steadyHeight)return;setTimeout(this.checkForCompanionHeightChanges.bind(this),300)},getTotalHeight:function(){var i=0;return $.each(this.views,function(e,t){i+=t.$el.outerHeight(!0),t.companion&&t.relativeDepth&&(i+=t.companion.outerHeight(!0)*t.relativeDepth)}),i},determineStaticSidebar:function(){var e=this.getTotalHeight();this.companionHeight=this.companion.outerHeight(!0);var t=this.companionHeight<e;return this.breakpoint=$("#breakpoint .width :visible").attr("class"),this.smallScreen=-1<$.inArray(this.breakpoint,["hand","lap"]),"full"!==this.type||!this.smallScreen&&!0!==this.feature||(t=!0),t},initSectionStickiness:function(){this.$el.removeClass("loaded");var i=this.determineStaticSidebar();$.each(this.views,function(e,t){t.stopListening(vent),i?t.makeStatic():t.calculateClearance()}),i?this.$el.addClass("loaded"):($.each(this.views,function(e,t){t.calculateStickiness(),t.onWinResize()}),this.$el.addClass("fixed").addClass("loaded"))},render:function(){var i=this;if(this.$el.hasClass("fixable")){var n=!0;if($.each(this.$el.find(".section"),function(e,t){i.createView(t)||(n=!1)}),n)return $.each(this.views,function(e,t){t.offsetTopElements=i.views.slice(0,e),t.offsetBottomElements=i.views.slice(e+1),i.listenTo(t,"loaded",i.incrementElementsLoaded),t.render()}),this}}})},{"./NewsletterPromo":29,"./RelatedContent":30,"./ShareBar":31,"./TableOfContents":33}],33:[function(e,t,i){"use strict";var n={Fixable:e("./Fixable")};t.exports=n.Fixable.extend({name:"toc",render:function(){return n.Fixable.prototype.render.call(this),this.trigger("loaded"),this}})},{"./Fixable":28}],34:[function(e,t,i){"use strict";var o={Count:e("../social/Count")};t.exports=Backbone.View.extend({className:"comments",triggerLoadedWhenRendered:!1,initialize:function(){this.render()},fetchCommentCount:function(){var e;"undefined"==typeof ghostlab?(window.fetchCommentCount||(window.fetchCommentCount=!0,e={api_key:"3RpVOYU3tdbkr6sI5nH0DVLScSRB2nfFZWfXV79jB6EkAEyb6PFW5JNAdFpyZWm2",forum:this.model.get("shortname"),"thread:link":encodeURI(this.model.get("url").replace(/\/$/,""))},$.ajax({type:"GET",url:"https://disqus.com/api/3.0/threads/details.json",data:e,datatype:"jsonp"}).then(function(e){void 0!==e.response.posts?vent.trigger("commentCount:loaded",e.response):vent.trigger("commentCount:loaded",null)})),vent.once("commentCount:loaded",this.displayCount,this)):this.displayCount({posts:0})},displayCount:function(e){var t,i,n;e?(t=e.posts,i=new Backbone.Model({count:t,label:1!==t?"comments":"comment"}),n=new o.Count({model:i}),this.$el.find("a").append(n.render().el)):this.trigger("loaded")},render:function(){return this.fetchCommentCount(),this}})},{"../social/Count":36}],35:[function(e,t,i){"use strict";var n=e("../../../lib/conversion");e("../../../lib/custom-event-polyfill");var o={comments:e("../../../templates/comments/disqus.html")};t.exports=Backbone.View.extend({el:"#comments",template:o.comments,events:{"click .more-or-less":"showMoreOrLess"},initialize:function(){this.open=!1,vent.once("commentCount:loaded",this.countLoaded,this),this.render()},countLoaded:function(e){e&&0===e.posts&&(this.disqus.removeClass("closed"),this.button.remove())},showMoreOrLess:function(){var e;this.open?(this.disqus.addClass("closed"),this.button.text("Show more comments"),this.open=!1,e=$("#comments").offset().top,$("html, body").animate({scrollTop:e},"slow")):(this.disqus.removeClass("closed"),this.button.text("Show fewer comments"),this.open=!0),setTimeout(function(){var e=new CustomEvent("winresize:done");window.dispatchEvent(e)},0)},loadCommentsScript:function(){var e=this;window.disqus_config=function(){this.page.url=e.model.get("url").replace(/\/$/,""),this.callbacks.onNewComment=[function(){n.create(e.model,1100),dataLayer.push({event:"comment"})}],this.callbacks.onPaginate=[function(){setTimeout(function(){var e=new CustomEvent("winresize:done");window.dispatchEvent(e)},0)}]},"undefined"==typeof ghostlab&&$.ajax({type:"GET",url:"//"+this.model.get("shortname")+".disqus.com/embed.js",dataType:"script",cache:!0})},render:function(){return this.$el.append(this.template()),this.disqus=this.$el.find("#disqus_thread"),this.button=this.$el.find(".more-or-less"),this.loadCommentsScript(),this}})},{"../../../lib/conversion":51,"../../../lib/custom-event-polyfill":52,"../../../templates/comments/disqus.html":53}],36:[function(e,t,i){"use strict";var n={count:e("../../../templates/count.html")};t.exports=Backbone.View.extend({tagName:"span",className:"count",template:n.count,abbreviate:function(e,t){for(var i,n=["k","M","B"],o=n.length-1;0<=o;o--)if((i=Math.pow(1e3,o+1))<=e)return+(e/i).toFixed(t)+n[o];return e},render:function(){var e=this.abbreviate(this.model.get("count"),1);return this.model.set("count",e),this.$el.append(this.template(this.model.toJSON(this.model))),this}})},{"../../../templates/count.html":54}],37:[function(e,t,i){"use strict";var n={EmailModal:e("./EmailModal")};t.exports=Backbone.View.extend({events:{click:"onClick"},open:!1,initialize:function(){this.render()},render:function(){var e=this;return window.emailModal?this.$el.show():(window.emailModal=new n.EmailModal({model:this.model,id:this.$el.data("id")}),window.emailModal.on("recaptcha:loaded",function(){return e.$el.show()})),this},onClick:function(e){e.preventDefault(),window.emailModal.toggle($(":focus"))}})},{"./EmailModal":38}],38:[function(e,t,i){"use strict";var n=e("../../../lib/conversion"),o={PersistentSlideModal:e("../PersistentSlideModal"),Recaptcha:e("../RecaptchaView")},a={errors:e("../../../templates/email-form/errors.html"),form:e("../../../templates/email-form/modal.html"),loading:e("../../../templates/loading.html")};t.exports=o.PersistentSlideModal.extend({modalClass:"email-modal",template:a.form,initialFocus:"input:first",code:1300,initialize:function(e){this.options=e,this.setElement(this.el),o.PersistentSlideModal.prototype.initialize.call(this,e)},setElement:function(e){o.PersistentSlideModal.prototype.setElement.call(this,e),this.events.submit="onSubmit"},renderModalContent:function(){var e=this;return o.PersistentSlideModal.prototype.renderModalContent.call(this),this.modalContent.append(this.template(this.model.toJSON())),this.recaptcha=new o.Recaptcha({el:this.$el.find(".g-recaptcha")}),this.recaptcha.on("recaptcha:loaded",function(){return e.trigger("recaptcha:loaded")}),this.recaptcha.render(),this},onSubmit:function(e){e.preventDefault(),this.form=this.$el.find("form"),this.errors=this.$el.find(".errors"),this.loading=this.$el.find(".loading"),this.errors.empty();var n=this.getData();jQuery.post("/wp/wp-admin/admin-ajax.php",n).done(this.onResponse.bind(this)).fail(function(e,t,i){0!==e.status&&403!==e.status&&logger.log("Email a friend POST request failed",{level:"warning",data:{form_data:n,jqXHR:e,textStatus:t,errorThrown:i}})}),this.loading.show()},getData:function(){return{action:"hub_email_friend",id:this.options.id,type:this.model.get("type"),from_name:this.form.find("input[name=from_name]").val(),from_email:this.form.find("input[name=from]").val(),to_email:this.form.find("input[name=to]").val(),message:this.form.find("textarea[name=message]").val(),recaptcha:this.recaptcha.getResponse()}},renderErrors:function(e){var t=this;this.errors.empty().append(a.errors({errors:e})),this.recaptcha.reset(),this.$el.css("height","auto"),setTimeout(function(){return t.$el.css("height","100%")},0)},onResponse:function(e){this.loading.hide(),e.errors&&0<e.errors.length?this.renderErrors(e.errors):e.success?(dataLayer.push({event:"emailFriend"}),this.form.remove(),this.modalContent.append("<p>Email sent successfully</p>"),n.create(this.model,this.code)):this.renderErrors(["The email failed to send. An email has been sent to the website administrators, but in the mean time, please refresh the page and try again."])},close:function(){var e=this;o.PersistentSlideModal.prototype.close.call(this),setTimeout(function(){e.recaptcha.remove(),e.modalContent.empty().append(e.template(e.model.toJSON())),e.recaptcha=new o.Recaptcha({el:e.$el.find(".g-recaptcha").get(0)}),e.recaptcha.render()},500)}})},{"../../../lib/conversion":51,"../../../templates/email-form/errors.html":55,"../../../templates/email-form/modal.html":56,"../../../templates/loading.html":62,"../PersistentSlideModal":10,"../RecaptchaView":11}],39:[function(e,t,i){"use strict";var n={Count:e("./Count"),ShareButton:e("./ShareButton")};t.exports=n.ShareButton.extend({type:"Facebook",code:200,triggerLoadedWhenRendered:!1,fetchShareCount:function(){var e;window.fetchFacebookCount||(window.fetchFacebookCount=!0,e={action:"facebook_shares",url:this.model.get("url").replace("local.","").replace("staging.",""),id:this.model.get("id")},jQuery.post("/wp/wp-admin/admin-ajax.php",e).done(function(e){var t=e.response?e.response:0;vent.trigger("facebookCount:loaded",t)}).fail(function(e,t,i){0!==e.status&&e.status})),vent.on("facebookCount:loaded",this.displayCount,this)},displayCount:function(e){if(0===e)return this.trigger("loaded");var t=new Backbone.Model({count:e}),i=new n.Count({model:t});this.$el.find("a").append(i.render().el),this.trigger("loaded")},render:function(){return n.ShareButton.prototype.render.call(this),this.fetchShareCount(),this}})},{"./Count":36,"./ShareButton":44}],40:[function(e,t,i){"use strict";var n={ShareButton:e("./ShareButton")};t.exports=n.ShareButton.extend({type:"LinkedIn",code:600})},{"./ShareButton":44}],41:[function(e,t,i){"use strict";t.exports=Backbone.View.extend({events:{click:"onClick"},initialize:function(e){this.icons=e.icons,this.icon=this.$el.find("i")},onClick:function(e){e.preventDefault(),this.icons.hasClass("hidden")?(this.icons.removeClass("hidden"),this.icon.removeClass("fa-plus").addClass("fa-minus")):(this.icons.addClass("hidden"),this.icon.removeClass("fa-minus").addClass("fa-plus")),this.trigger("click")}})},{}],42:[function(e,t,i){"use strict";var n={ShareButton:e("./ShareButton")};t.exports=n.ShareButton.extend({type:"Pinterest",code:500})},{"./ShareButton":44}],43:[function(e,t,i){"use strict";var n={ShareButton:e("./ShareButton")};t.exports=n.ShareButton.extend({type:"Reddit",code:700})},{"./ShareButton":44}],44:[function(e,t,i){"use strict";var n=e("../../../lib/conversion");t.exports=Backbone.View.extend({action:"Share",triggerLoadedWhenRendered:!0,events:{"click a":"onClick"},onClick:function(e){e.stopPropagation();var t={eventCategory:"Social Media Bar",eventAction:this.action};this.action&&(t.eventLabel=this.type),n.create(this.model,this.code)},render:function(){return this.triggerLoadedWhenRendered&&this.trigger("loaded"),this}})},{"../../../lib/conversion":51}],45:[function(e,t,i){"use strict";var n={ShareButton:e("./ShareButton")};t.exports=n.ShareButton.extend({type:"Tumblr",code:900})},{"./ShareButton":44}],46:[function(e,t,i){"use strict";var n={ShareButton:e("./ShareButton")};t.exports=n.ShareButton.extend({type:"Twitter",code:400})},{"./ShareButton":44}],47:[function(e,t,i){"use strict";var n={VideoModal:e("./VideoModal")};t.exports=Backbone.View.extend({events:{click:"onClick"},onClick:function(e){e.preventDefault(),new n.VideoModal({model:this.model,focusBeforeOpen:$(":focus")}).show()},render:function(){var e=this;return this.$el.imagesLoaded().done(function(){return e.trigger("loaded")}),this}})},{"./VideoModal":48}],48:[function(e,t,i){"use strict";var n={Modal:e("../Modal"),YouTubeVideo:e("./YouTubeVideo")};t.exports=n.Modal.extend({modalClass:"video-modal",renderModalContent:function(){n.Modal.prototype.renderModalContent.call(this);var e=new n.YouTubeVideo({model:this.model});return this.modalContent.append(e.render().el),this}})},{"../Modal":8,"./YouTubeVideo":49}],49:[function(e,t,i){"use strict";var n={video:e("../../../templates/youtubevideo.html")};t.exports=Backbone.View.extend({className:"popup-video",template:n.video,widthRatio:16,heightRatio:9,videoPercent:.75,initialize:function(){this.calculateDimensions(),window.addEventListener("winresize:done",this.calculateDimensions.bind(this))},calculateDimensions:function(){this.windowWidth=$(window).width(),this.windowHeight=$(window).height(),this.windowWidth/this.windowHeight<this.widthRatio/this.heightRatio?this.sizeByWidth():this.sizeByHeight()},vaidateWidth:function(e){return 1080<e?1080:e},sizeByWidth:function(){var e=this.windowWidth*this.videoPercent,t=this.vaidateWidth(e),i=t*(this.heightRatio/this.widthRatio);this.setCss(i,t)},sizeByHeight:function(){var e=this.windowHeight*this.videoPercent,t=e*(this.widthRatio/this.heightRatio),i=this.vaidateWidth(t);i!==t&&(e=i*(this.heightRatio/this.widthRatio)),this.setCss(e,i)},setCss:function(e,t){this.$el.css({width:t+"px",height:e+"px"})},render:function(){return this.$el.append(this.template(this.model.toJSON())),this}})},{"../../../templates/youtubevideo.html":66}],50:[function(e,t,i){"use strict";e("../../../../shared/src/assets/js/lib/dependency-check")("backbone","jquery","underscore");var n={SingleArticlePage:e("./app/views/articles/SingleArticlePage")};$(function(){new n.SingleArticlePage({el:$(".article")})})},{"../../../../shared/src/assets/js/lib/dependency-check":3,"./app/views/articles/SingleArticlePage":12}],51:[function(e,t,i){"use strict";t.exports={create:function(e,t){var i;parseInt(e.get("convert"))&&(i={action:"create_conversion",id:e.get("id"),type:e.get("type"),code:t},jQuery.post("/wp/wp-admin/admin-ajax.php",i).fail(function(e,t,i){0!==e.status&&e.status}))}}},{}],52:[function(e,t,i){(function(e){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}(function(a){function r(e,t){for(var i=-1,n=e.length;++i<n;)if(i in e&&e[i]===t)return i;return-1}function e(e,t){if(!e)throw new Error("Not enough arguments");var i;if("createEvent"in document){i=document.createEvent("Event");var n=!(!t||t.bubbles===a)&&t.bubbles,o=!(!t||t.cancelable===a)&&t.cancelable;return i.initEvent(e,n,o),i}return(i=document.createEventObject()).type=e,i.bubbles=!(!t||t.bubbles===a)&&t.bubbles,i.cancelable=!(!t||t.cancelable===a)&&t.cancelable,i}var t,o;o={click:1,dblclick:1,keyup:1,keypress:1,keydown:1,mousedown:1,mouseup:1,mousemove:1,mouseover:1,mouseenter:1,mouseleave:1,mouseout:1,storage:1,storagecommit:1,textinput:1},"undefined"!=typeof document&&"undefined"!=typeof window&&(t=window.Event&&window.Event.prototype||null,e.NONE=0,e.CAPTURING_PHASE=1,e.AT_TARGET=2,e.BUBBLING_PHASE=3,window.Event=Window.prototype.Event=e,t&&Object.defineProperty(window.Event,"prototype",{configurable:!1,enumerable:!1,writable:!0,value:t}),"createEvent"in document||(window.addEventListener=Window.prototype.addEventListener=Document.prototype.addEventListener=Element.prototype.addEventListener=function(e,t){var s=this,i=e,n=t;if(s===window&&i in o)throw new Error("In IE8 the event: "+i+" is not available on the window object. Please see https://github.com/Financial-Times/polyfill-service/issues/317 for more information.");s._events||(s._events={}),s._events[i]||(s._events[i]=function(e){var t,i=s._events[e.type].list,n=i.slice(),o=-1,a=n.length;for(e.preventDefault=function(){!1!==e.cancelable&&(e.returnValue=!1)},e.stopPropagation=function(){e.cancelBubble=!0},e.stopImmediatePropagation=function(){e.cancelBubble=!0,e.cancelImmediate=!0},e.currentTarget=s,e.relatedTarget=e.fromElement||null,e.target=e.target||e.srcElement||s,e.timeStamp=(new Date).getTime(),e.clientX&&(e.pageX=e.clientX+document.documentElement.scrollLeft,e.pageY=e.clientY+document.documentElement.scrollTop);++o<a&&!e.cancelImmediate;)o in n&&-1!==r(i,t=n[o])&&"function"==typeof t&&t.call(s,e)},s._events[i].list=[],s.attachEvent&&s.attachEvent("on"+i,s._events[i])),s._events[i].list.push(n)},window.removeEventListener=Window.prototype.removeEventListener=Document.prototype.removeEventListener=Element.prototype.removeEventListener=function(e,t){var i,n=this,o=e;n._events&&n._events[o]&&n._events[o].list&&-1!==(i=r(n._events[o].list,t))&&(n._events[o].list.splice(i,1),n._events[o].list.length||(n.detachEvent&&n.detachEvent("on"+o,n._events[o]),delete n._events[o]))},window.dispatchEvent=Window.prototype.dispatchEvent=Document.prototype.dispatchEvent=Element.prototype.dispatchEvent=function(t){if(!arguments.length)throw new Error("Not enough arguments");if(!t||"string"!=typeof t.type)throw new Error("DOM Events Exception 0");var i=this,n=t.type;try{t.bubbles||(t.cancelBubble=!0,this.attachEvent("on"+n,function e(t){t.cancelBubble=!0,(i||window).detachEvent("on"+n,e)})),this.fireEvent("on"+n,t)}catch(e){for(t.target=i;"_events"in(t.currentTarget=i)&&"function"==typeof i._events[n]&&i._events[n].call(i,t),"function"==typeof i["on"+n]&&i["on"+n].call(i,t),(i=9===i.nodeType?i.parentWindow:i.parentNode)&&!t.cancelBubble;);}return!0},document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&document.dispatchEvent(new e("DOMContentLoaded",{bubbles:!0}))}))),this.CustomEvent=function(t,i){if(!t)throw Error('TypeError: Failed to construct "CustomEvent": An event name must be provided.');var n;if(i=i||{bubbles:!1,cancelable:!1,detail:null},"createEvent"in document)try{(n=document.createEvent("CustomEvent")).initCustomEvent(t,i.bubbles,i.cancelable,i.detail)}catch(e){(n=document.createEvent("Event")).initEvent(t,i.bubbles,i.cancelable),n.detail=i.detail}else(n=new Event(t,i)).detail=i&&i.detail||null;return n},CustomEvent.prototype=Event.prototype}).call("object"===("undefined"==typeof window?"undefined":t(window))&&window||"object"===("undefined"==typeof self?"undefined":t(self))&&self||"object"===(void 0===e?"undefined":t(e))&&e||{})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],53:[function(require,module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<h6>Comments</h6>\n\n<div class="disclaimer">\n  <a href="/community-guidelines">Community guidelines</a>\n  <p >Editor\'s note: We welcome your comments; all we ask is that you keep it civil and on-topic, and don\'t break any laws. We reserve the right to remove any inappropriate comments.</p>\n</div>\n\n<div id="disqus_thread" class="closed"></div>\n\n<div class="more-or-less-container">\n  <button class="more-or-less button small">Show more comments</button>\n</div>\n';return __p}},{}],54:[function(require,module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+=(null==(__t=count)?"":__t)+"\n\n","undefined"!=typeof label&&(__p+='\n  <span class="comments-label"> '+(null==(__t=label)?"":__t)+"</span>\n"),__p+="\n";return __p}},{}],55:[function(require,module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+="";var error_text=1<errors.length?"errors":"error";__p+='\n\n<div class="alert alert-error">\n\n  <p class="alert-heading">Please correct the following '+(null==(__t=error_text)?"":__t)+":</p>\n\n  <ul>\n  ",_.each(errors,function(e){__p+="\n    <li>"+(null==(__t=e)?"":__t)+"</li>\n  "}),__p+="\n  </ul>\n\n</div>\n"}return __p}},{}],56:[function(require,module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+="<h3>Email this "+(null==(__t=type)?"":__t)+'</h3>\n\n<div class="errors"></div>\n\n<form class="horizontal">\n\n  <div class="form-fields force">\n\n    <div class="form_field force">\n      <label for="email-form-from_name"><span class="required">*</span> Your name</label>\n      <input id="email-form-from_name" type="text" name="from_name" value="" maxlength="60">\n    </div>\n\n    <div class="form_field force">\n      <label for="email-form-from"><span class="required">*</span> Your email address</label>\n      <input id="email-form-from" type="email" name="from" value="">\n    </div>\n\n    <div class="form_field force">\n      <label for="email-form-to"><span class="required">*</span> Recipient\'s email address</label>\n      <input id="email-form-to" type="email" name="to" value="">\n    </div>\n\n    <div class="form_field force">\n      <label for="email-form-message">Optional message</label>\n      <textarea id="email-form-message" name="message" maxlength="200"></textarea>\n      <div class="help">Limit 200 characters</div>\n    </div>\n\n    <div class="form_field force">\n      <div class="g-recaptcha"></div>\n    </div>\n\n    <div class="form_field submit force">\n      <input type="submit" name="submit" class="btn" value="Send email">\n      <div class="loading dark" style="display:none;">\n        <i class="fa fa-cog fa-spin"></i>\n      </div>\n    </div>\n\n  </div>\n\n</form>\n';return __p}},{}],57:[function(require,module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<button><i class="fa fa-picture-o" aria-hidden="true"></i> View image gallery</button>\n';return __p}},{}],58:[function(require,module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<i class="fa fa-expand" aria-hidden="true"></i>\n';return __p}},{}],59:[function(require,module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+="";var data={container:!1,defaultSize:"large"};__p+="\n","undefined"!=typeof responsiveSizes&&(__p+="\n  ",data.responsiveSizes=responsiveSizes,__p+="\n  ",data.srcset="scaled",__p+="\n"),__p+="\n"+(null==(__t=_helper.getHubImage(item,data))?"":__t)+"\n\n",(item.caption||item.credit)&&(__p+='\n\n  <div class="caption-container">\n\n    <div class="center force">\n\n      <div class="caption column">\n\n        ',item.caption&&(__p+="\n          <p>"+(null==(__t=item.caption)?"":__t)+"</p>\n        "),__p+="\n\n        ",item.credit&&(__p+='\n          <p class="credit"><span class="prefix">Image:</span> '+(null==(__t=item.credit)?"":__t)+"</p>\n        "),__p+="\n\n      </div>\n\n    </div>\n\n  </div>\n\n"),__p+="\n"}return __p}},{}],60:[function(require,module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<i class="fa fa-ellipsis-h"></i>\n';return __p}},{}],61:[function(require,module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+="";var data={container:!1};__p+="\n",void 0!==image.responsiveSizes&&(__p+="\n  ",data.responsiveSizes=image.responsiveSizes,__p+="\n  ",data.srcset="scaled",__p+="\n"),__p+="\n"+(null==(__t=_helper.getHubImage(image,data))?"":__t)+"\n"}return __p}},{}],62:[function(require,module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+="";var style,style=style||"dark";__p+='\n\n<div class="loading '+(null==(__t=style)?"":__t)+'">\n  <i class="fa fa-cog fa-spin"></i>\n</div>\n'}return __p}},{}],63:[function(require,module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<p id="aria-description-'+(null==(__t=id)?"":__t)+'" class="visuallyhidden">Press the escape key to close the dialog.</p>\n<button class="close close-box-x" aria-label="Close dialog"><i class="fa fa-fw fa-times"></i></button>\n';return __p}},{}],64:[function(require,module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<i class="fa fa-angle-right" aria-hidden="true"></i><span class="visuallyhidden">Next image</span>\n';return __p}},{}],65:[function(require,module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<i class="fa fa-angle-left" aria-hidden="true"></i><span class="visuallyhidden">Previous image</span>\n';return __p}},{}],66:[function(require,module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+="";var title="Video";"undefined"!=typeof headline&&(title+=": "+headline);var url="https://www.youtube.com/embed/"+id+"?";"undefined"!=typeof playlist_id&&(url+="list="+playlist_id+"&amp;"),url+="autoplay=1&amp;enablejsapi=1&amp;modestbranding=1&amp;rel=0&amp;showinfo=1",__p+='\n\n<h1 id="aria-label-'+(null==(__t=id)?"":__t)+'" class="visuallyhidden">'+(null==(__t=title)?"":__t)+'</h1>\n\n<iframe\n  frameborder="0"\n  allowfullscreen=""\n  allowtransparency="true"\n  src="'+(null==(__t=url)?"":__t)+'">\n</iframe>\n'}return __p}},{}]},{},[50]);